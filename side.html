<html>
<head>
    <meta charset="utf-8">
    <title>Side</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
        }
        canvas {
            margin: auto;
            display: block;
            margin-top: 50px;
        }
    </style>
    <script src="pixi.js"></script>
    <script src="keyboard.js"></script>
    
    <script src="level0MapData.js"></script>
    
    <script src="utils.game.js"></script>
    <script src="viewport.game.js"></script>
    
    <script src="backgroundScroller.game.js"></script>
    <script src="levelMap.game.js"></script>
    <script src="character.game.js"></script>
    
    <script src="game.js"></script>
    
</head>
<body>
	<pre id="log" style="color: #fff;"></pre>
    <script>
        
        var game = new Game();
        
        /* Keyboard handling */
        KeyboardJS.on("right", function() {
			game.viewport.direction.x = 1;
			game.player.direction.x = 1;
			
			if( game.player.getAction() != "jump" && game.player.getAction() != "fall" ) {
				game.player.setAction("run");
			}
			
        }, function() {
            if( game.player.getAction() == "run" ) {
				game.player.setAction("idle");
			}
        });
        
        KeyboardJS.on("left", function() {
			game.viewport.direction.x = -1;
			game.player.direction.x = -1;
			
			if( game.player.getAction() != "jump" && game.player.getAction() != "fall" ) {
				game.player.setAction("run");
			}
			
        }, function() {
            if( game.player.getAction() == "run" ) {
				game.player.setAction("idle");
			}
        });
        
        KeyboardJS.on("up", function() {
			if( game.player.getAction() != "fall" ) {
				game.player.setAction("jump");
			}
        });
        
        game.start();
 
    </script>
 
    </body>
</html>
